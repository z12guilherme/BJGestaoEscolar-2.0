<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Educacional</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            box-sizing: border-box;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .icon-bounce {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        .btn-gradient {
            background: linear-gradient(45deg, #4f46e5, #7c3aed);
            transition: all 0.3s ease;
        }
        
        .btn-gradient:hover {
            background: linear-gradient(45deg, #3730a3, #5b21b6);
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gray-900 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <!-- Welcome Section -->
        <div class="gradient-bg rounded-3xl p-8 mb-8 text-white text-center shadow-2xl">
            <div class="icon-bounce inline-block mb-4">
                <i class="fas fa-graduation-cap text-6xl"></i>
            </div>
            <h1 class="text-4xl font-bold mb-2">Dashboard Educacional</h1>
            <p class="text-xl mb-2">Bem-vindo, <span class="font-semibold">{{ session.username }}</span>!</p>
            <p class="text-lg opacity-90">Gerencie todo o sistema educacional de forma simples e eficiente</p>
        </div>

        <!-- Turmas Section -->
        <div class="mb-12">
            <div class="flex items-center mb-6">
                <i class="fas fa-users text-2xl text-indigo-600 mr-3"></i>
                <h2 class="text-3xl font-bold text-white">Suas Turmas</h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {% if turmas %}
                    {% for turma in turmas %}
                        <div class="bg-gray-800 rounded-2xl p-6 shadow-lg card-hover border-l-4 border-blue-500">
                            <div class="text-center">
                                <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-chalkboard text-blue-600 text-2xl"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">{{ turma.name }}</h3>
                                <p class="text-gray-300 mb-1">Ano: {{ turma.year or 'N/A' }}</p>
                                <p class="text-gray-300 mb-4">Escola: {{ turma.school.name }}</p>
                                <a href="{{ url_for('manage_turma', turma_id=turma.id) }}" class="btn-gradient text-white px-6 py-2 rounded-full font-semibold mb-3 w-full inline-block">
                                    Gerenciar Alunos
                                </a>
                                <form action="{{ url_for('delete_turma', turma_id=turma.id) }}" method="POST" style="display:inline;">
                                    <button class="bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full font-semibold w-full transition-all duration-300" onclick="return confirm('Deseja excluir a turma {{ turma.name }}?')">
                                        Excluir Turma
                                    </button>
                                </form>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <p class="text-gray-300">Nenhuma turma encontrada.</p>
                {% endif %}
            </div>
        </div>

        <!-- Cadastros Section -->
        <div class="mb-12">
            <div class="flex items-center mb-6">
                <i class="fas fa-plus-circle text-2xl text-indigo-600 mr-3"></i>
                <h2 class="text-3xl font-bold text-white">Cadastros Rápidos</h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Escola Card -->
                <div class="bg-gray-800 rounded-2xl p-6 shadow-lg card-hover border-t-4 border-orange-500">
                    <div class="text-center">
                        <div class="bg-orange-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-school text-orange-600 text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-4">Cadastrar Escola</h3>
                        <a href="{{ url_for('register_school') }}" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full font-semibold mb-4 w-full inline-block transition-all duration-300">
                            <i class="fas fa-plus mr-2"></i>Nova Escola
                        </a>
                        
                        <!-- Lista de escolas -->
                        <div class="space-y-2">
                            {% if schools %}
                                {% for school in schools %}
                                    <form action="{{ url_for('delete_school', school_id=school.id) }}" method="POST" style="display:inline;">
                                        <button class="bg-red-900 hover:bg-red-800 text-red-300 border border-red-700 px-4 py-2 rounded-lg text-sm w-full transition-all duration-300" onclick="return confirm('Deseja excluir a escola {{ school.name }}?')">
                                            {{ school.name }}
                                        </button>
                                    </form>
                                {% endfor %}
                            {% else %}
                                <p class="text-gray-400 text-sm">Nenhuma escola cadastrada.</p>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Aluno Card -->
                <div class="bg-gray-800 rounded-2xl p-6 shadow-lg card-hover border-t-4 border-blue-500">
                    <div class="text-center">
                        <div class="bg-blue-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-user-graduate text-blue-600 text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-4">Cadastrar Aluno</h3>
                        <a href="{{ url_for('register_student') }}" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full font-semibold mb-4 w-full inline-block transition-all duration-300">
                            <i class="fas fa-plus mr-2"></i>Novo Aluno
                        </a>
                        
                        <!-- Lista de alunos -->
                        <div class="space-y-2">
                            {% if students %}
                                {% for student in students %}
                                    <form action="{{ url_for('delete_student', student_id=student.id) }}" method="POST" style="display:inline;">
                                        <button class="bg-red-900 hover:bg-red-800 text-red-300 border border-red-700 px-4 py-2 rounded-lg text-sm w-full transition-all duration-300" onclick="return confirm('Deseja excluir o aluno {{ student.name }}?')">
                                            {{ student.name }}
                                        </button>
                                    </form>
                                {% endfor %}
                            {% else %}
                                <p class="text-gray-400 text-sm">Nenhum aluno cadastrado.</p>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Professor Card -->
                <div class="bg-gray-800 rounded-2xl p-6 shadow-lg card-hover border-t-4 border-green-500">
                    <div class="text-center">
                        <div class="bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-chalkboard-teacher text-green-600 text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-4">Cadastrar Professor</h3>
                        <a href="{{ url_for('register_teacher') }}" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full font-semibold mb-4 w-full inline-block transition-all duration-300">
                            <i class="fas fa-plus mr-2"></i>Novo Professor
                        </a>
                        
                        <!-- Lista de professores -->
                        <div class="space-y-2">
                            {% if teachers %}
                                {% for teacher in teachers %}
                                    <form action="{{ url_for('delete_teacher', teacher_id=teacher.id) }}" method="POST" style="display:inline;">
                                        <button class="bg-red-900 hover:bg-red-800 text-red-300 border border-red-700 px-4 py-2 rounded-lg text-sm w-full transition-all duration-300" onclick="return confirm('Deseja excluir o professor {{ teacher.name }}?')">
                                            {{ teacher.name }}
                                        </button>
                                    </form>
                                {% endfor %}
                            {% else %}
                                <p class="text-gray-400 text-sm">Nenhum professor cadastrado.</p>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Turma Card -->
                <div class="bg-gray-800 rounded-2xl p-6 shadow-lg card-hover border-t-4 border-purple-500">
                    <div class="text-center">
                        <div class="bg-purple-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-users text-purple-600 text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-4">Cadastrar Turma</h3>
                        <a href="{{ url_for('register_turma') }}" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full font-semibold mb-4 w-full inline-block transition-all duration-300">
                            <i class="fas fa-plus mr-2"></i>Nova Turma
                        </a>
                        
                        <!-- Lista de turmas -->
                        <div class="space-y-2">
                            {% if turmas %}
                                {% for turma in turmas %}
                                    <form action="{{ url_for('delete_turma', turma_id=turma.id) }}" method="POST" style="display:inline;">
                                        <button class="bg-red-900 hover:bg-red-800 text-red-300 border border-red-700 px-4 py-2 rounded-lg text-sm w-full transition-all duration-300" onclick="return confirm('Deseja excluir a turma {{ turma.name }}?')">
                                            {{ turma.name }}
                                        </button>
                                    </form>
                                {% endfor %}
                            {% else %}
                                <p class="text-gray-400 text-sm">Nenhuma turma cadastrada.</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Relatórios Section -->
        <div class="mb-12">
            <div class="flex items-center mb-6">
                <i class="fas fa-chart-bar text-2xl text-green-600 mr-3"></i>
                <h2 class="text-3xl font-bold text-white">Relatórios</h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-gray-800 rounded-2xl p-6 shadow-lg card-hover border-t-4 border-green-500">
                    <div class="text-center">
                        <div class="bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-file-alt text-green-600 text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-4">Relatório de Notas</h3>
                        <a href="{{ url_for('relatorios') }}" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full font-semibold w-full inline-block transition-all duration-300">
                            <i class="fas fa-eye mr-2"></i>Ver Relatório
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gerenciamento Section -->
        <div class="mb-12">
            <div class="flex items-center mb-6">
                <i class="fas fa-cogs text-2xl text-purple-600 mr-3"></i>
                <h2 class="text-3xl font-bold text-white">Gerenciamento Avançado</h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-gray-800 rounded-2xl p-6 shadow-lg card-hover border-t-4 border-purple-500">
                    <div class="text-center">
                        <div class="bg-purple-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-school text-purple-600 text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-white mb-4">Gerenciar Escolas</h3>
                        <a href="#" class="bg-purple-500 hover:bg-purple-600 text-white px-6 py-2 rounded-full font-semibold w-full inline-block transition-all duration-300">
                            <i class="fas fa-edit mr-2"></i>Gerenciar
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Logout Section -->
        <div class="text-center">
            <a href="{{ url_for('logout') }}" class="bg-gray-600 hover:bg-gray-700 text-white px-8 py-3 rounded-full font-semibold text-lg transition-all duration-300 shadow-lg inline-block">
                <i class="fas fa-sign-out-alt mr-2"></i>Sair do Sistema
            </a>
        </div>
    </div>

    <script>
        // Add click functionality to all buttons
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function(e) {
                // Add ripple effect
                const ripple = document.createElement('span');
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;
                
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                ripple.classList.add('ripple');
                
                this.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 600);
            });
        });

        // Add confirmation for delete buttons
        document.querySelectorAll('button').forEach(button => {
            if (button.textContent.includes('Excluir') || button.classList.contains('text-red-600')) {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const itemName = this.textContent.trim();
                    if (confirm(`Deseja realmente excluir ${itemName}?`)) {
                        // Here you would normally submit the form or make an API call
                        alert(`${itemName} foi excluído com sucesso!`);
                    }
                });
            }
        });
    </script>

    <style>
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.6);
            transform: scale(0);
            animation: ripple-animation 0.6s linear;
            pointer-events: none;
        }

        @keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
    </style>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98552d34e531277a',t:'MTc1ODkxNTAzNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
